---
# Certificate issuer related resources
apiVersion: v1
data:
  ca.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVBRENDQW1pZ0F3SUJBZ0lRVkR2d0hzZTAyaTJhdVN4Z0lUUGlrVEFOQmdrcWhraUc5dzBCQVF3RkFEQWEKTVJnd0ZnWURWUVFERXc5eWIyOTBZMkV0YVc1MFpYSnVZV3d3SGhjTk1qVXhNVEk0TVRBMU1UUTRXaGNOTXpVeApNVEkyTVRBMU1UUTRXakFhTVJnd0ZnWURWUVFERXc5eWIyOTBZMkV0YVc1MFpYSnVZV3d3Z2dHaU1BMEdDU3FHClNJYjNEUUVCQVFVQUE0SUJqd0F3Z2dHS0FvSUJnUUQ2RUJ6aHEwaHRqMkhvb2sxbW1WVTBTZGMwanJzU1NGV28KdnNtemN1OWxKSEpvUDVwRDdzSnZCZGpkWU1jQU92MTRjdHBvak9GMEgrdnBOK0lQL24zdlMvZmxPQ1JHRVdjUApWS0w5VkZNdzlWcklXRmNBYnNOTktiNmZ2QkhLekQ3QzZ1cy8zRFoyRG1xWWoxSGlRMFN5MW1PdklpOHkyWnkzCk5DQkdXMCtwNnlYV2Rwb3h0RnpMSmIrcVZqVmwvTHBBSEN3V2ZmSXlZaHYwa0dSSitLQmpEa1FZT2VTVzQxNy8KdVZWc2VVdEtmNjRZRTd2OTlnWHg1U2s3WlZQNVNuYzlib2NxZEtxbzJFVEVqU3Q2WjFrVnFxVzhkWEh1TlFUaApsSGhkN3ZWSitXcHg4RWpUM2lrRkg5TVRTeVd0NFU5dzJ1WklocG9mSXJuSlBuSml3ekh6WlAyN1c5TjhiZE04CjlRdE44b3BaS2o1YUJ4RFBjd0g1SnNjQ2lINmVScVJZWkwvQXAxNEtIVHkrYXM2VGNQSVoxVDBEeWVnWFpMUGsKeXJ4Q3RlVmc5Z2J3ZlYvOFFpRWg1NEtKNVUycTRRbERXRXR0VmdxdjNGK3pMaThOaURIS21ZTURBNlhNTTkraQo4dHRSVEJpeHBQOXJzRlpic0lQSTdmb3F3MzFZSjgwQ0F3RUFBYU5DTUVBd0RnWURWUjBQQVFIL0JBUURBZ0trCk1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZJR012c2tGY3k1dlpKeWprRkxmVEs0YlBZRXoKTUEwR0NTcUdTSWIzRFFFQkRBVUFBNElCZ1FDSTBLZDcrS2JqSjBmL0Z4WE1EVmRCeHdDbm1COW5CYTBBcklqRgp6N2kveDYvT0tFRzFaQ2wrRHorOTJuLzY5WDFCTjBIRW9IMU5YMTU0ckxkZW1TbmprTXpFOWQ1UFVuQ0dsQ1dtCmVTS1RuZGZKTG9odGtPSHNmK2RGUURCcHlQNzcxWDN6RERQSW8wN2ZDRFlNSDQ5QkJ6ak5UdDJtNlNJWkdtUnkKaFNLWFMxWUtnSVAxdEt1NGJZV2Fyd0NCWEQ1cnVPcU9RTGs3SVRDNkRZL01ud2syTVNjY1RrTmE4dzZpRE9YdgpuVHdZN1ZjUWRTdGJQQWxZWmJ3NTBWU3BVamsyQVFWSmVOOFoxYjduZUxGdXF4ZHV2SDFuMDhUV2JLKzFEZ01wCnpYOHcra3J3V2J2VjNuSmVZcUxEU2ptc3pnVWI2bEdORnJlZ0FhUTlMd2lJYy9kQVpOdzFQc2kvVXZaN3ZRMEEKcVdmTUlmQUx2Um9mSTJwTHRKLzNOcWxTRDFhcEg5VlMrQWE3V1IvWkNWVDJ0T1pUREIyY0o3UUV0RE1pUHoyegpnRE5EL2ZTNEcyaDViM2ptSUs5encvaUNuT3lKcVg2YzVrTFNNUVhHTFNiMm41N0xFUGhnU0hkdXR1empteTNrCmNkZXpPZnY1SlJlK1ZDOVcxclpEL2ZYMkNibz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVBRENDQW1pZ0F3SUJBZ0lRVkR2d0hzZTAyaTJhdVN4Z0lUUGlrVEFOQmdrcWhraUc5dzBCQVF3RkFEQWEKTVJnd0ZnWURWUVFERXc5eWIyOTBZMkV0YVc1MFpYSnVZV3d3SGhjTk1qVXhNVEk0TVRBMU1UUTRXaGNOTXpVeApNVEkyTVRBMU1UUTRXakFhTVJnd0ZnWURWUVFERXc5eWIyOTBZMkV0YVc1MFpYSnVZV3d3Z2dHaU1BMEdDU3FHClNJYjNEUUVCQVFVQUE0SUJqd0F3Z2dHS0FvSUJnUUQ2RUJ6aHEwaHRqMkhvb2sxbW1WVTBTZGMwanJzU1NGV28KdnNtemN1OWxKSEpvUDVwRDdzSnZCZGpkWU1jQU92MTRjdHBvak9GMEgrdnBOK0lQL24zdlMvZmxPQ1JHRVdjUApWS0w5VkZNdzlWcklXRmNBYnNOTktiNmZ2QkhLekQ3QzZ1cy8zRFoyRG1xWWoxSGlRMFN5MW1PdklpOHkyWnkzCk5DQkdXMCtwNnlYV2Rwb3h0RnpMSmIrcVZqVmwvTHBBSEN3V2ZmSXlZaHYwa0dSSitLQmpEa1FZT2VTVzQxNy8KdVZWc2VVdEtmNjRZRTd2OTlnWHg1U2s3WlZQNVNuYzlib2NxZEtxbzJFVEVqU3Q2WjFrVnFxVzhkWEh1TlFUaApsSGhkN3ZWSitXcHg4RWpUM2lrRkg5TVRTeVd0NFU5dzJ1WklocG9mSXJuSlBuSml3ekh6WlAyN1c5TjhiZE04CjlRdE44b3BaS2o1YUJ4RFBjd0g1SnNjQ2lINmVScVJZWkwvQXAxNEtIVHkrYXM2VGNQSVoxVDBEeWVnWFpMUGsKeXJ4Q3RlVmc5Z2J3ZlYvOFFpRWg1NEtKNVUycTRRbERXRXR0VmdxdjNGK3pMaThOaURIS21ZTURBNlhNTTkraQo4dHRSVEJpeHBQOXJzRlpic0lQSTdmb3F3MzFZSjgwQ0F3RUFBYU5DTUVBd0RnWURWUjBQQVFIL0JBUURBZ0trCk1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZJR012c2tGY3k1dlpKeWprRkxmVEs0YlBZRXoKTUEwR0NTcUdTSWIzRFFFQkRBVUFBNElCZ1FDSTBLZDcrS2JqSjBmL0Z4WE1EVmRCeHdDbm1COW5CYTBBcklqRgp6N2kveDYvT0tFRzFaQ2wrRHorOTJuLzY5WDFCTjBIRW9IMU5YMTU0ckxkZW1TbmprTXpFOWQ1UFVuQ0dsQ1dtCmVTS1RuZGZKTG9odGtPSHNmK2RGUURCcHlQNzcxWDN6RERQSW8wN2ZDRFlNSDQ5QkJ6ak5UdDJtNlNJWkdtUnkKaFNLWFMxWUtnSVAxdEt1NGJZV2Fyd0NCWEQ1cnVPcU9RTGs3SVRDNkRZL01ud2syTVNjY1RrTmE4dzZpRE9YdgpuVHdZN1ZjUWRTdGJQQWxZWmJ3NTBWU3BVamsyQVFWSmVOOFoxYjduZUxGdXF4ZHV2SDFuMDhUV2JLKzFEZ01wCnpYOHcra3J3V2J2VjNuSmVZcUxEU2ptc3pnVWI2bEdORnJlZ0FhUTlMd2lJYy9kQVpOdzFQc2kvVXZaN3ZRMEEKcVdmTUlmQUx2Um9mSTJwTHRKLzNOcWxTRDFhcEg5VlMrQWE3V1IvWkNWVDJ0T1pUREIyY0o3UUV0RE1pUHoyegpnRE5EL2ZTNEcyaDViM2ptSUs5encvaUNuT3lKcVg2YzVrTFNNUVhHTFNiMm41N0xFUGhnU0hkdXR1empteTNrCmNkZXpPZnY1SlJlK1ZDOVcxclpEL2ZYMkNibz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlHNHdJQkFBS0NBWUVBK2hBYzRhdEliWTloNktKTlpwbFZORW5YTkk2N0VraFZxTDdKczNMdlpTUnlhRCthClErN0Nid1hZM1dESEFEcjllSExhYUl6aGRCL3I2VGZpRC81OTcwdjM1VGdrUmhGbkQxU2kvVlJUTVBWYXlGaFgKQUc3RFRTbStuN3dSeXN3K3d1cnJQOXcyZGc1cW1JOVI0a05Fc3RaanJ5SXZNdG1jdHpRZ1JsdFBxZXNsMW5hYQpNYlJjeXlXL3FsWTFaZnk2UUJ3c0ZuM3lNbUliOUpCa1NmaWdZdzVFR0Rua2x1TmUvN2xWYkhsTFNuK3VHQk83Ci9mWUY4ZVVwTzJWVCtVcDNQVzZIS25TcXFOaEV4STByZW1kWkZhcWx2SFZ4N2pVRTRaUjRYZTcxU2ZscWNmQkkKMDk0cEJSL1RFMHNscmVGUGNOcm1TSWFhSHlLNXlUNXlZc014ODJUOXUxdlRmRzNUUFBVTFRmS0tXU28rV2djUQp6M01CK1NiSEFvaCtua2FrV0dTL3dLZGVDaDA4dm1yT2szRHlHZFU5QThub0YyU3o1TXE4UXJYbFlQWUc4SDFmCi9FSWhJZWVDaWVWTnF1RUpRMWhMYlZZS3I5eGZzeTR2RFlneHlwbURBd09sekRQZm92TGJVVXdZc2FUL2E3QlcKVzdDRHlPMzZLc045V0NmTkFnTUJBQUVDZ2dHQU5ZNkVaUWZXZ2hLU3RXeW5kNmt3OExzODRvYU1SZWprb2JqRgpBZEJFdWd5UmpVYkwveTh3aU84L2FJQ005bjFyNHFOMHFDNCtMaTBWRFhUWXo3U2htOElSUkpCZTRudmhMdzBoClFIRVNSVHJUVi9QbHBGUFVzOTdVTXlsb1JSOHo5UEt6OGxBemdOcnJGU1FpOVRzVGlGcjI3Q0E5N0IzajNQQUcKMXBMQmIrTExUcERGeXczMlR0TVZwd0dDTzhiaVRBOU1tUCtlQXhEMHJFOU5qM00yeEtoZVNMTURoSmFMZHVrbQpoTTVBcENMTzhseXRwNEdNK2VjckNzdlRyYUYzRm5qdkZjVEEvMUlkUVZtR2plZ1JXWmwvZWxNaVEwckttYjVxCmVYY3lQVGhoaEhBV2MweFl5dHdkU3RzU1FOdnlYUFJRbzJrZU44LzAxSHBXMTZZM2d4R0NEVDVMcnBDN0NJNE8KekxiUXM3aDd3cHJhelZoM0pXS2UwOUJIc1A5ZTBNR3VhRmVUNVpVMzJ1cldMTDEwa3pwR2UxU3puTkd5R1IxQwpwSVV2aXhOb1FwZ1BHY3Bhek9KYjF5Vk5MZmpOenNXMFNBcFZJKzZkVlBsdDhlNXJkNWkvTG5YNU9vK2VxSHBaCnBmMzNIbmRBb2RUamgrb2FoNlQyZE1CT3VkUkJBb0hCQVA4U0U1cjN0ZHlNWnpNN3VBRXNHYUxISCttR0ZwVFEKb3FzWjJWUkdLczY3Tk1ObWZlMEVkYmI1VzJlNVFMVGJmNXVxcHh0VnZ4WTBPeG5BY3Vlb1ZORjRFeVhwdlpRdQpuU3o5cVFqTkY1TDNjTk5PSDZMV3VOeUlnaTBqWkpxUUpKV2phcXBEWVVKR0NyS1FSNS8xTjhqRVg3Q2lsU2VYCmxPNjdxdHZLVGJnd2N5VFdnVnppMTlJV3lpWnc0aXJZeUhJb05lVU5SQmh5WU1SOUpBdjhjYkcwUVJvU2hQNWUKVVUvZS9kMkt0N29CSk94WFd4L3JhOUd3WjRPQXBWRHF3UUtCd1FENitWMStKOFhvK3BrVUJoUGtOUUthSlRQawpDbWhRUkcrekZGbDRHOGZvSVJDWHNucnFGUkhSWXhOa0ZpMGJkQXpqVG00RzczeU1Ed0hHbnJ3YWdoME95dnhxCm16RWlvQmVjME9PK3AwLytKV3pkZnBnanNRbGR6bzVUcDBuOFhKVUluUDA3YzVLSjJ1RjhBeVNBdmhzSU00Y00KM2tWT3dSdWIxeGJncVNoVis4N1RDWU4wcFJIYWNYTzA4a0ZJTzF5SW9ETWVybXkzYXY1L1l1eW81QnozbzJncApUOVA2Yys5Y1VkNTU5WDVFeTdkc1haRDVuYzhWdG0ycWx1SDNQQTBDZ2NCaFBlbjloWHh1eFpRK2d3RG1hWUtvCmZST2Nlc00zSHNjMVJkaUYrVzR1ZkU1a1JEbXoxNlJ0Q21tZmhJKzNvNHJsdE15YWJqazRaTmMzUFJoUld1cGoKSlV6Zmdsb0ZHVFJReDYvZXJCblZyTUgxdk8zd3JiMnlUZFNiRXNneTZNc1p4VUJRQXZvY1F3bW5BN3hhcmlrRApRR0pldTh6eldDV3VVaHVVU1c4UnpsN0haNFBQL3FkYTc5ZEhpbmVlOENDUzdPT0hIR1Nla1ZSMDlHUitzVkpDCjlqNXZpeW5xczloNkE4Qnk2b1Nhdy83b24zRWRIU3B3dWJqcytHbU9ETUVDZ2NFQTlRSDUxbzJuZEtFb1RkYjkKRmp6MTlGdTdRN1V4VHFMdzFNZFo3SnBhVnUvb2pkOU1oVGJhZFNvZXBRZk5NMDdnd2dzditJOVZiRG0rUnhOeAptUU5Lc01WVEZCTzdMUTFTMytGQlpEOWNKVVNOK2RGN1h1U1d1MEJKeTdxMXpLcnBSMFpUSlBYWHFjTEhlOVJwCmoxR0hmRU1wWlZPY0g1ei9nZXpCeGNMOXdLc1pwd1pUa2MwUUY4dkg1RzdYY2xlWkp6d1ZpNjlHTE8xRDFFSlQKdlRFc1lramhCK3VKaXFnaGxXUExLQTZVSFQ4dktwaFJUbzVUdXVPa1BmUWNWc3NGQW9IQWROTnVNb1lKamhhawp4WlVKWjRuQXV1UEg3dlV0RFRmbWFDMzR1MjJDOTJ3ODRsTmIvSURUVXZMMnZBTFpwa0VIdHY1RmJKWXJMTzdpClJ3UXZwRGNpZEFVUlVlYk11TjFOdmthbmppZ1p0bDJmdlJJamlyM3psWHgrRFVKbDlPOUlXdjNTS0NUWGQzZHkKU1RiMmFyd0NXMkVxVlNqaEpDL01WUG1rNW8xYTJqOUxLb28vQmQ1eEV2MlM5Y21BTjU1SlhERlN2SXF3MUJvZwoyc2s1QjM3SjlESlZqTG5UT0ZDQ1ZzdEFGT0pBM3hvR2F0eHIyM2hCVzEwb0YxSEFablhkCi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
kind: Secret
metadata:
  annotations:
    cert-manager.io/alt-names: ""
    cert-manager.io/certificate-name: rootca-internal
    cert-manager.io/common-name: rootca-internal
    cert-manager.io/ip-sans: ""
    cert-manager.io/issuer-group: ""
    cert-manager.io/issuer-kind: ""
    cert-manager.io/issuer-name: selfsigned-issuer
    cert-manager.io/uri-sans: ""
  labels:
    ca-cert: ""
    controller.cert-manager.io/fao: "true"
  name: rootca-internal-cloudkitty
type: kubernetes.io/tls
---
apiVersion: cert-manager.io/v1
kind: Issuer
metadata:
  annotations:
    cert-duration: 43800h0m0s
  labels:
    osp-rootca-issuer-internal: ""
  name: rootca-internal-cloudkitty
spec:
  ca:
    secretName: rootca-internal-cloudkitty
---
# minio
apiVersion: v1
kind: Pod
metadata:
  labels:
    app: minio
  name: minio
spec:
  containers:
  - name: minio
    image: quay.io/minio/minio:latest
    command:
    - /bin/bash
    - -c
    - |
      mkdir -p /data/loki && \
      minio server /data
    env:
    - name: MINIO_ACCESS_KEY
      value: minio
    - name: MINIO_SECRET_KEY
      value: minio123
    volumeMounts:
    - mountPath: /data
      name: storage
  volumes:
  - name: storage
    persistentVolumeClaim:
      claimName: minio-pvc
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: minio-pvc
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 10Gi
  storageClassName: local-storage
---
apiVersion: v1
kind: Service
metadata:
  name: minio
spec:
  selector:
    app: minio
  ports:
    - name: api
      protocol: TCP
      port: 9000
    - name: console
      protocol: TCP
      port: 9090
---
# Loki S3 secret
apiVersion: v1
kind: Secret
metadata:
  name: logging-loki-s3
stringData:
  access_key_id: minio
  access_key_secret: minio123
  bucketnames: loki
  endpoint: http://minio.svc.cluster.local:9000
